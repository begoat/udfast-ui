{"version":3,"sources":["webpack:///./node_modules/decode-uri-component/index.js","webpack:///./node_modules/split-on-first/index.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./src/components/file-list/download/index.tsx","webpack:///./src/components/log-container/index.tsx","webpack:///./src/utils/random/index.ts","webpack:///./src/pages/d.tsx","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/query-string/node_modules/strict-uri-encode/index.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/query-string/index.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js"],"names":["singleMatcher","RegExp","multiMatcher","decodeComponents","components","split","decodeURIComponent","join","err","length","left","slice","right","Array","prototype","concat","call","decode","input","tokens","match","i","module","exports","encodedURI","TypeError","replace","replaceMap","exec","result","entries","Object","keys","key","customDecodeURIComponent","string","separator","separatorIndex","indexOf","fileList","startDownload","setSelectedDownloadId","formatMessage","useLocale","renderOps","useCallback","file","Button","size","onClick","fileId","console","log","Alert","warning","appearance","handleClick","lastDownloadId","downloadRecords","pop","operations","clickHandler","LogContainer","logs","className","logContainerStyle","container","map","l","Fragment","timestamp","formatFullDate","Date","logType","totalNum","chunkIdx","chunkStatus","generateDownloadId","len","text","possible","charAt","Math","floor","random","generateString","locale","pathContext","search","history","location","peerId","queryString","useState","loading","setLoading","downloadController","setDownloadController","setFileList","setLogs","selectedDownloadId","useEffect","initDSidePeer","then","dController","catch","error","finally","getFileList","f","name","fileName","fileSize","registerAcc","downloadId","prevLogs","getCurrTimestamp","registerProgress","totalNumOfChunks","type","initDownload","prevList","p","registerCbOnDownloadId","CbType","ACC","PROGRESS","startDownloadFile","titleKey","Loader","iter","Symbol","iterator","from","arrayLikeToArray","arr","isArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","str","encodeURIComponent","x","charCodeAt","toString","toUpperCase","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr2","o","minLen","n","constructor","test","_slicedToArray","_toConsumableArray","_createForOfIteratorHelper","_arrayLikeToArray","_unsupportedIterableToArray","F","s","done","value","e","_e","it","normalCompletion","didErr","step","next","_e2","strictUriEncode","decodeComponent","splitOnFirst","validateArrayFormatSeparator","encode","options","strict","removeHash","hashStart","extract","queryStart","parseValue","parseNumbers","Number","isNaN","trim","parseBooleans","toLowerCase","parse","assign","sort","arrayFormat","arrayFormatSeparator","formatter","accumulator","undefined","newValue","item","parserForArrayFormat","ret","create","_step","_iterator","param","_splitOnFirst","_splitOnFirst2","_key","_value","_i","_Object$keys","_i2","_Object$keys2","k","reduce","Boolean","keysSorter","a","b","stringify","object","index","skipNull","encoderForArrayFormat","objectCopy","_i3","_Object$keys3","filter","parseUrl","url","query","stringifyUrl","queryFromUrl","parsedQueryFromUrl","hash","getHash","_arr","_n","_d","_s","push"],"mappings":"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","file":"component---src-pages-d-tsx-808c9626c10a96d451e5.js","sourcesContent":["'use strict';\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n  try {\n    // Try to decode the entire string first\n    return decodeURIComponent(components.join(''));\n  } catch (err) {// Do nothing\n  }\n\n  if (components.length === 1) {\n    return components;\n  }\n\n  split = split || 1; // Split the array in 2 parts\n\n  var left = components.slice(0, split);\n  var right = components.slice(split);\n  return Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input);\n  } catch (err) {\n    var tokens = input.match(singleMatcher);\n\n    for (var i = 1; i < tokens.length; i++) {\n      input = decodeComponents(tokens, i).join('');\n      tokens = input.match(singleMatcher);\n    }\n\n    return input;\n  }\n}\n\nfunction customDecodeURIComponent(input) {\n  // Keep track of all the replacements and prefill the map with the `BOM`\n  var replaceMap = {\n    '%FE%FF': \"\\uFFFD\\uFFFD\",\n    '%FF%FE': \"\\uFFFD\\uFFFD\"\n  };\n  var match = multiMatcher.exec(input);\n\n  while (match) {\n    try {\n      // Decode as big chunks as possible\n      replaceMap[match[0]] = decodeURIComponent(match[0]);\n    } catch (err) {\n      var result = decode(match[0]);\n\n      if (result !== match[0]) {\n        replaceMap[match[0]] = result;\n      }\n    }\n\n    match = multiMatcher.exec(input);\n  } // Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\n\n  replaceMap['%C2'] = \"\\uFFFD\";\n  var entries = Object.keys(replaceMap);\n\n  for (var i = 0; i < entries.length; i++) {\n    // Replace all decoded components\n    var key = entries[i];\n    input = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n  }\n\n  return input;\n}\n\nmodule.exports = function (encodedURI) {\n  if (typeof encodedURI !== 'string') {\n    throw new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n  }\n\n  try {\n    encodedURI = encodedURI.replace(/\\+/g, ' '); // Try the built in decoder first\n\n    return decodeURIComponent(encodedURI);\n  } catch (err) {\n    // Fallback to a more advanced decoder\n    return customDecodeURIComponent(encodedURI);\n  }\n};","'use strict';\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nmodule.exports = function (string, separator) {\n  if (!(typeof string === 'string' && typeof separator === 'string')) {\n    throw new TypeError('Expected the arguments to be of type `string`');\n  }\n\n  if (separator === '') {\n    return [string];\n  }\n\n  var separatorIndex = string.indexOf(separator);\n\n  if (separatorIndex === -1) {\n    return [string];\n  }\n\n  return [string.slice(0, separatorIndex), string.slice(separatorIndex + separator.length)];\n};","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","import React, { useCallback } from 'react';\nimport { Button, Alert } from 'rsuite';\n\nimport { useLocale } from '@/utils/hooks';\n\nimport FileList from '../index';\n\ninterface DownloadFileListProps {\n  fileList: Array<FileEntity>;\n  startDownload: (fileId: string) => void;\n  setSelectedDownloadId: React.Dispatch<React.SetStateAction<string>>;\n}\n\nexport default ({\n  fileList,\n  startDownload,\n  setSelectedDownloadId\n}: DownloadFileListProps) => {\n  const { formatMessage } = useLocale();\n  const renderOps = useCallback((file: FileEntity) => {\n    const handleDownload = () => {\n      const { fileId } = file;\n      startDownload(fileId);\n    };\n\n    const handlePreview = () => {\n      const { fileId } = file;\n      console.log('fileId', fileId);\n      Alert.warning(formatMessage('fnNotSupport'));\n    };\n\n    return [\n      <Button key='preview' size='sm' onClick={handlePreview}>{formatMessage('preview')}</Button>,\n      <Button key='download' appearance='primary' size='sm' onClick={handleDownload}>{formatMessage('download')}</Button>\n    ];\n  }, [formatMessage, startDownload]);\n\n  const handleClick = useCallback((file: FileEntity) => {\n    const lastDownloadId = (file.downloadRecords || []).slice().pop() || '';\n    setSelectedDownloadId(lastDownloadId);\n  }, [setSelectedDownloadId]);\n\n  return (\n    <FileList operations={renderOps} fileList={fileList} clickHandler={handleClick} />\n  );\n};\n","import React from 'react';\n\nimport { formatFullDate } from '@/utils/date';\n\nimport logContainerStyle from './index.module.scss';\n\ninterface LogContainerProps {\n  logs: Array<DownloadLogEntity>;\n}\n\nexport const LogContainer = ({\n  logs\n}: LogContainerProps) => {\n  return (\n    <div className={logContainerStyle.container}>\n      {logs.map(l => (\n        <React.Fragment key={l.timestamp}>\n          <span>{`${formatFullDate(new Date(l.timestamp))} [${l.logType}] [FileId: ${l.fileId}]`}</span>\n          {\n            l.logType === 'progress' && (\n              <span>{`totalNumOfChunks: ${l.totalNum}; chunk${l.chunkIdx} download ${l.chunkStatus}`}</span>\n            )\n          }\n          <br />\n        </React.Fragment>\n      ))}\n    </div>\n  );\n};\n\nexport default LogContainer;\n","export const generateString = (len: number) => {\n  let text = '';\n  const possible = 'abcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (let i = 0; i < len; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n};\n\nexport const generateDownloadId = () => {\n  return generateString(16);\n};\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { ReplaceComponentRendererArgs } from 'gatsby';\nimport { Alert, Loader } from 'rsuite';\nimport { globalHistory as history } from '@reach/router';\nimport * as queryString from 'query-string';\n\nimport SEO from '@/components/seo-helmet';\nimport Layout from '@/components/layout';\nimport LocaleProvider from '@/components/locale-provider';\nimport ErrorBoundary from '@/components/error-boundary';\nimport DownloadFilelist from '@/components/file-list/download';\nimport LogContainer from '@/components/log-container';\nimport { initDSidePeer, DController, CbType } from '@/utils/peer';\nimport { generateDownloadId } from '@/utils/random';\nimport { getCurrTimestamp } from '@/utils/date';\n\nimport 'rsuite/dist/styles/rsuite-default.css';\nimport './d.scss';\n\nexport default ({ pathContext }: ReplaceComponentRendererArgs) => {\n  const { locale } = pathContext as any;\n  const { location: { search } } = history;\n  const peerId: string = queryString.parse(search).peerId as any;\n  const [loading, setLoading] = useState<boolean>(true);\n  const [downloadController, setDownloadController] = useState<DController>();\n  const [fileList, setFileList] = useState<Array<FileEntity>>([]);\n  const [logs, setLogs] = useState<{ [downloadId: string]: Array<DownloadLogEntity> }>({});\n  const [selectedDownloadId, setSelectedDownloadId] = useState('');\n\n  useEffect(() => {\n    setLoading(true);\n    initDSidePeer().then(dController => {\n      setDownloadController(dController);\n    }).catch(() => {\n      Alert.error('Try Later And Contact Admin');\n    }).finally(() => {\n      setLoading(false);\n    });\n  }, []);\n\n  const getFileList = useCallback((dController: DController) => {\n    if (peerId) {\n      dController.getFileList(peerId)\n        .then(file => {\n          setFileList(file.map(f => ({\n            fileId: f.fileId,\n            name: f.fileName,\n            size: f.fileSize,\n          })));\n        });\n    }\n  }, [peerId]);\n\n  const registerAcc = useCallback((downloadId: string, fileId: string) => {\n    setLogs(prevLogs => ({\n      ...prevLogs,\n      [downloadId]: (prevLogs[downloadId] || []).concat([{ logType: 'acc', timestamp: getCurrTimestamp(), fileId }])\n    }));\n    console.log('downloadId', downloadId, 'downloadACC');\n  }, []);\n\n  const registerProgress = useCallback((downloadId: string, fileId: string, chunkIdx: number, totalNumOfChunks: number, type: 'start' | 'end') => {\n    setLogs(prevLogs => ({\n      ...prevLogs,\n      [downloadId]: (prevLogs[downloadId] || []).concat([\n        { logType: 'progress', timestamp: getCurrTimestamp(), chunkIdx, chunkStatus: type, totalNum: totalNumOfChunks, fileId }\n      ])\n    }));\n    console.log('downloadId', downloadId, 'downloading', chunkIdx, totalNumOfChunks, type);\n  }, []);\n\n  const startDownload = useCallback((fileId: string) => {\n    const downloadId = generateDownloadId();\n    // eslint-disable-next-line no-unused-expressions\n    downloadController?.initDownload(downloadId, peerId, fileId)\n      .then(() => {\n        setFileList(prevList => prevList.map(p => {\n          if (p.fileId === fileId) {\n            return {\n              ...p,\n              downloadRecords: (p.downloadRecords || []).concat([downloadId])\n            };\n          }\n\n          return p;\n        }));\n        downloadController?.registerCbOnDownloadId(downloadId, () => {\n          registerAcc(downloadId, fileId);\n        }, CbType.ACC);\n        downloadController?.registerCbOnDownloadId(downloadId, (chunkIdx: number, totalNumOfChunks: number, type: 'start' | 'end') => {\n          registerProgress(downloadId, fileId, chunkIdx, totalNumOfChunks, type);\n        }, CbType.PROGRESS);\n        downloadController.startDownloadFile(downloadId);\n      });\n  }, [downloadController, peerId, registerAcc]);\n\n  useEffect(() => {\n    if (downloadController) {\n      getFileList(downloadController);\n    }\n  }, [downloadController, getFileList]);\n\n  return (\n    <ErrorBoundary>\n      <LocaleProvider locale={locale}>\n        <Layout titleKey='downloadSide'>\n          <SEO titleKey='downloadSide' />\n          <div className=\"body-container\">\n            <div className='file-list'>\n              {\n                loading ? (\n                  <Loader />\n                ) : (\n                  <DownloadFilelist fileList={fileList} setSelectedDownloadId={setSelectedDownloadId} startDownload={startDownload} />\n                )\n              }\n            </div>\n            <div className='2'>\n              {\n                loading ? (\n                  <Loader />\n                ) : (\n                  <LogContainer logs={logs[selectedDownloadId] || []} />\n                )\n              }\n            </div>\n          </div>\n        </Layout>\n      </LocaleProvider>\n    </ErrorBoundary>\n  );\n};\n","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","'use strict';\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nmodule.exports = function (str) {\n  return encodeURIComponent(str).replace(/[!'()*]/g, function (x) {\n    return \"%\".concat(x.charCodeAt(0).toString(16).toUpperCase());\n  });\n};","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","'use strict';\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nvar _slicedToArray = require(\"/home/runner/work/udfast-ui/udfast-ui/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.number.is-nan\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nvar _toConsumableArray = require(\"/home/runner/work/udfast-ui/udfast-ui/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar strictUriEncode = require('strict-uri-encode');\n\nvar decodeComponent = require('decode-uri-component');\n\nvar splitOnFirst = require('split-on-first');\n\nfunction encoderForArrayFormat(options) {\n  switch (options.arrayFormat) {\n    case 'index':\n      return function (key) {\n        return function (result, value) {\n          var index = result.length;\n\n          if (value === undefined || options.skipNull && value === null) {\n            return result;\n          }\n\n          if (value === null) {\n            return [].concat(_toConsumableArray(result), [[encode(key, options), '[', index, ']'].join('')]);\n          }\n\n          return [].concat(_toConsumableArray(result), [[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')]);\n        };\n      };\n\n    case 'bracket':\n      return function (key) {\n        return function (result, value) {\n          if (value === undefined || options.skipNull && value === null) {\n            return result;\n          }\n\n          if (value === null) {\n            return [].concat(_toConsumableArray(result), [[encode(key, options), '[]'].join('')]);\n          }\n\n          return [].concat(_toConsumableArray(result), [[encode(key, options), '[]=', encode(value, options)].join('')]);\n        };\n      };\n\n    case 'comma':\n    case 'separator':\n      return function (key) {\n        return function (result, value) {\n          if (value === null || value === undefined || value.length === 0) {\n            return result;\n          }\n\n          if (result.length === 0) {\n            return [[encode(key, options), '=', encode(value, options)].join('')];\n          }\n\n          return [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n        };\n      };\n\n    default:\n      return function (key) {\n        return function (result, value) {\n          if (value === undefined || options.skipNull && value === null) {\n            return result;\n          }\n\n          if (value === null) {\n            return [].concat(_toConsumableArray(result), [encode(key, options)]);\n          }\n\n          return [].concat(_toConsumableArray(result), [[encode(key, options), '=', encode(value, options)].join('')]);\n        };\n      };\n  }\n}\n\nfunction parserForArrayFormat(options) {\n  var result;\n\n  switch (options.arrayFormat) {\n    case 'index':\n      return function (key, value, accumulator) {\n        result = /\\[(\\d*)\\]$/.exec(key);\n        key = key.replace(/\\[\\d*\\]$/, '');\n\n        if (!result) {\n          accumulator[key] = value;\n          return;\n        }\n\n        if (accumulator[key] === undefined) {\n          accumulator[key] = {};\n        }\n\n        accumulator[key][result[1]] = value;\n      };\n\n    case 'bracket':\n      return function (key, value, accumulator) {\n        result = /(\\[\\])$/.exec(key);\n        key = key.replace(/\\[\\]$/, '');\n\n        if (!result) {\n          accumulator[key] = value;\n          return;\n        }\n\n        if (accumulator[key] === undefined) {\n          accumulator[key] = [value];\n          return;\n        }\n\n        accumulator[key] = [].concat(accumulator[key], value);\n      };\n\n    case 'comma':\n    case 'separator':\n      return function (key, value, accumulator) {\n        var isArray = typeof value === 'string' && value.split('').indexOf(options.arrayFormatSeparator) > -1;\n        var newValue = isArray ? value.split(options.arrayFormatSeparator).map(function (item) {\n          return decode(item, options);\n        }) : value === null ? value : decode(value, options);\n        accumulator[key] = newValue;\n      };\n\n    default:\n      return function (key, value, accumulator) {\n        if (accumulator[key] === undefined) {\n          accumulator[key] = value;\n          return;\n        }\n\n        accumulator[key] = [].concat(accumulator[key], value);\n      };\n  }\n}\n\nfunction validateArrayFormatSeparator(value) {\n  if (typeof value !== 'string' || value.length !== 1) {\n    throw new TypeError('arrayFormatSeparator must be single character string');\n  }\n}\n\nfunction encode(value, options) {\n  if (options.encode) {\n    return options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n  }\n\n  return value;\n}\n\nfunction decode(value, options) {\n  if (options.decode) {\n    return decodeComponent(value);\n  }\n\n  return value;\n}\n\nfunction keysSorter(input) {\n  if (Array.isArray(input)) {\n    return input.sort();\n  }\n\n  if (typeof input === 'object') {\n    return keysSorter(Object.keys(input)).sort(function (a, b) {\n      return Number(a) - Number(b);\n    }).map(function (key) {\n      return input[key];\n    });\n  }\n\n  return input;\n}\n\nfunction removeHash(input) {\n  var hashStart = input.indexOf('#');\n\n  if (hashStart !== -1) {\n    input = input.slice(0, hashStart);\n  }\n\n  return input;\n}\n\nfunction getHash(url) {\n  var hash = '';\n  var hashStart = url.indexOf('#');\n\n  if (hashStart !== -1) {\n    hash = url.slice(hashStart);\n  }\n\n  return hash;\n}\n\nfunction extract(input) {\n  input = removeHash(input);\n  var queryStart = input.indexOf('?');\n\n  if (queryStart === -1) {\n    return '';\n  }\n\n  return input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n  if (options.parseNumbers && !Number.isNaN(Number(value)) && typeof value === 'string' && value.trim() !== '') {\n    value = Number(value);\n  } else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n    value = value.toLowerCase() === 'true';\n  }\n\n  return value;\n}\n\nfunction parse(input, options) {\n  options = Object.assign({\n    decode: true,\n    sort: true,\n    arrayFormat: 'none',\n    arrayFormatSeparator: ',',\n    parseNumbers: false,\n    parseBooleans: false\n  }, options);\n  validateArrayFormatSeparator(options.arrayFormatSeparator);\n  var formatter = parserForArrayFormat(options); // Create an object with no prototype\n\n  var ret = Object.create(null);\n\n  if (typeof input !== 'string') {\n    return ret;\n  }\n\n  input = input.trim().replace(/^[?#&]/, '');\n\n  if (!input) {\n    return ret;\n  }\n\n  var _iterator = _createForOfIteratorHelper(input.split('&')),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var param = _step.value;\n\n      var _splitOnFirst = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '='),\n          _splitOnFirst2 = _slicedToArray(_splitOnFirst, 2),\n          _key = _splitOnFirst2[0],\n          _value = _splitOnFirst2[1]; // Missing `=` should be `null`:\n      // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\n\n      _value = _value === undefined ? null : options.arrayFormat === 'comma' ? _value : decode(_value, options);\n      formatter(decode(_key, options), _value, ret);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  for (var _i = 0, _Object$keys = Object.keys(ret); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n    var value = ret[key];\n\n    if (typeof value === 'object' && value !== null) {\n      for (var _i2 = 0, _Object$keys2 = Object.keys(value); _i2 < _Object$keys2.length; _i2++) {\n        var k = _Object$keys2[_i2];\n        value[k] = parseValue(value[k], options);\n      }\n    } else {\n      ret[key] = parseValue(value, options);\n    }\n  }\n\n  if (options.sort === false) {\n    return ret;\n  }\n\n  return (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce(function (result, key) {\n    var value = ret[key];\n\n    if (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n      // Sort object keys, not values\n      result[key] = keysSorter(value);\n    } else {\n      result[key] = value;\n    }\n\n    return result;\n  }, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = function (object, options) {\n  if (!object) {\n    return '';\n  }\n\n  options = Object.assign({\n    encode: true,\n    strict: true,\n    arrayFormat: 'none',\n    arrayFormatSeparator: ','\n  }, options);\n  validateArrayFormatSeparator(options.arrayFormatSeparator);\n  var formatter = encoderForArrayFormat(options);\n  var objectCopy = Object.assign({}, object);\n\n  if (options.skipNull) {\n    for (var _i3 = 0, _Object$keys3 = Object.keys(objectCopy); _i3 < _Object$keys3.length; _i3++) {\n      var key = _Object$keys3[_i3];\n\n      if (objectCopy[key] === undefined || objectCopy[key] === null) {\n        delete objectCopy[key];\n      }\n    }\n  }\n\n  var keys = Object.keys(objectCopy);\n\n  if (options.sort !== false) {\n    keys.sort(options.sort);\n  }\n\n  return keys.map(function (key) {\n    var value = object[key];\n\n    if (value === undefined) {\n      return '';\n    }\n\n    if (value === null) {\n      return encode(key, options);\n    }\n\n    if (Array.isArray(value)) {\n      return value.reduce(formatter(key), []).join('&');\n    }\n\n    return encode(key, options) + '=' + encode(value, options);\n  }).filter(function (x) {\n    return x.length > 0;\n  }).join('&');\n};\n\nexports.parseUrl = function (input, options) {\n  return {\n    url: removeHash(input).split('?')[0] || '',\n    query: parse(extract(input), options)\n  };\n};\n\nexports.stringifyUrl = function (input, options) {\n  var url = removeHash(input.url).split('?')[0] || '';\n  var queryFromUrl = exports.extract(input.url);\n  var parsedQueryFromUrl = exports.parse(queryFromUrl);\n  var hash = getHash(input.url);\n  var query = Object.assign(parsedQueryFromUrl, input.query);\n  var queryString = exports.stringify(query, options);\n\n  if (queryString) {\n    queryString = \"?\".concat(queryString);\n  }\n\n  return \"\".concat(url).concat(queryString).concat(hash);\n};","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;"],"sourceRoot":""}